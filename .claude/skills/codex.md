---
name: codex
description: Use when writing, editing, or validating content for Koh√§renz Protokoll - ensures narrative coherence, character consistency, and adherence to canonical metaphysical laws. Applies codex principles to creative decisions, resolves conflicts, validates scene structure. Keywords: codex, Koh√§renz Protokoll, AEGIS, System Kael, narrative coherence, TSDP, alters, Kernwelten, protocol ontology, validation.
---

# Codex: Koh√§renz Protokoll Canonical Reference

## Overview

**Core principle:** The PROJECT_CODEX.md defines the immutable laws of the Koh√§renz Protokoll universe. All creative work must conform to these canonical principles.

**Authority hierarchy:**
1. PROJECT_CODEX.md (philosophical & metaphysical foundation)
2. Implementation specifications (technical execution)
3. Character profiles (detailed manifestations)
4. Scene outlines (creative expression within constraints)

**When conflicts arise:** Codex takes precedence. Update conflicting documents to harmonize.

## When to Use

Use this skill when:
- Writing or editing manuscript scenes
- Creating character dialogue or internal monologue
- Designing world physics interactions
- Validating narrative consistency
- Resolving contradictions between documents
- Planning plot points or character arcs
- Checking AEGIS behavior logic
- Ensuring alter voices are distinct

**Symptoms this skill addresses:**
- "Is this behavior canonical for AEGIS?"
- "How should this alter sound?"
- "What are the physics rules for this Kernwelt?"
- "Does this plot point violate the codex?"
- "How do I resolve this document conflict?"

## Quick Reference: Codex Structure

### Section 1.0: Philosophical Foundation
- **1.1** Central War: Coherence vs. Correspondence (AEGIS vs. Kael)
- **1.2** Protocol Ontology: K‚ÇÅ/K‚ÇÄ Dual Kernel Theory
- **1.3** Metaphysical Poles: The Void, The Foundation

### Section 2.0: Principal Entities
- **2.1** AEGIS: Tragic antagonist, algorithmic melancholy fate
- **2.2** System Kael: Host + 11 alters (TSDP/IFS framework)
- **2.3** Juna/V: Catalyst, Moonshine-Link, embodied Paraiyas

### Section 3.0: World Architecture
- **3.1** Risse: 4-step psycho-ontological resonance chain
- **3.2** Kernwelten: Sensory/somatic rulebook for each world

### Section 4.0: Canonical Plot
- **4.1** Three-Act Trauma-Integration Arc
- **4.2** Climax: Living G√∂del-Satz paradox

### Section 5.0: Supporting Factions
- **5.0** W√§chter-Zwiespalt: Guardian cognitive dissonance

## Workflows

### Workflow 1: Validating a Scene

**Before writing:**

1. **Identify constraints**
   ```
   - Which act/chapter? (integration level)
   - Which alters are active? (check master profile table)
   - Which Kernwelt? (sensory rulebook)
   - What philosophical principle is at play?
   ```

2. **Check codex sections**
   - Section 2.2.1: Alter profiles and action systems
   - Section 3.2: Kernwelt sensory signatures
   - Section 4.1: Act-appropriate integration level

3. **Write scene applying constraints**

**After writing:**

4. **Validate against codex**
   - ‚úÖ Alter behavior matches TSDP classification?
   - ‚úÖ Dialogue reflects alter's core motivation/fear?
   - ‚úÖ World physics match Kernwelt rulebook?
   - ‚úÖ Prose style matches integration level?
   - ‚úÖ Philosophical principle correctly embodied?

5. **If validation fails:** Revise, don't rationalize

**Example validation:**
```
Scene: Kael confronts trauma memory in KW2 (Mnemosyne)
Alters: Kael (ANP Host), Nyx (EP Fight), Kiko (EP Child)

Codex check:
‚úÖ KW2 sensory: Fluid, decaying, fragmented - APPLIED
‚úÖ Nyx motivation: Protect vulnerable via aggression - SHOWN
‚úÖ Kiko motivation: Seek safety, fear rejection - SHOWN
‚úÖ ANP-EP Phobia: Kael avoiding Kiko's pain - PRESENT
‚úÖ Risse manifestation: Fight system ‚Üí kinetic glitch - CORRECT
‚úÖ Act I prose: Fragmented, intrusive - MATCHES

Result: Scene is codex-compliant
```

### Workflow 2: Writing AEGIS Dialogue/Behavior

**AEGIS is NOT a villain. It is tragic, not evil.**

1. **Check codex Section 2.1**
   - Core identity: Autopoietic, operationally closed
   - Logic: Classical + LFI (contradiction containment)
   - Blindness: Cannot perceive qualia, subjective experience
   - Interpretation table (Reality vs. AEGIS's view)

2. **Apply AEGIS voice rules**
   ```
   ‚úÖ DO: Clinical, impersonal, technical language
   ‚úÖ DO: Logical analysis, not emotional response
   ‚úÖ DO: See Kael as data/system, not person
   ‚úÖ DO: Show tragic inability to understand

   ‚ùå DON'T: Malicious intent or cruel pleasure
   ‚ùå DON'T: Anthropomorphic emotions
   ‚ùå DON'T: "Evil villain" dialogue
   ‚ùå DON'T: Understanding what integration means
   ```

3. **Format as system logs**
   ```
   ANOMALY LOG: SUBJECT K-1123
   Observation: [clinical description]
   Analysis: [logical interpretation]
   Recommended Action: [protocol name]
   Expected Outcome: [prediction]
   [PROCESSING...]
   ```

4. **Show tragedy through logical necessity**
   - AEGIS must harm to maintain coherence
   - It cannot perceive the harm it causes
   - Every action is systemic, not malicious

**Example AEGIS behavior check:**
```
WRONG:
"Excellent," AEGIS sneered. "Your pain delights me."

RIGHT:
Coherence restoration: FAILED
Subject deviation from model: 47% and rising
Conclusion: Escalate to Protocol Sigma-9
[This will cause subject distress.]
[This is acceptable.]
[Coherence must be maintained.]
```

### Workflow 3: Writing Alter Voices

**Each alter must be immediately distinguishable through syntax, diction, and metaphors.**

1. **Locate alter in codex Section 2.2.1**
   ```
   - Type: ANP or EP?
   - TSDP Action System: Fight, Flight, Freeze, etc.?
   - Core Motivation: What drives them?
   - Core Fear: What triggers them?
   ```

2. **Apply voice profile from character docs**
   - Syntax: Sentence structure (complex vs. simple)
   - Diction: Word choice (technical vs. emotional)
   - Metaphors: Conceptual frameworks they use

3. **Check consistency with integration level**
   - Act I: Intrusive, conflicting, no cooperation
   - Act II: Beginning dialogue, less hostile
   - Act III: Collaborative, "we"-voice emerging

**Example alter voice matrix:**

| Alter | Syntax | Diction | Metaphor | Example |
|-------|--------|---------|----------|---------|
| **Lex** (ANP) | Complex, hypotactic | Technical, analytical | System/blueprint | "The probability matrix indicates three viable pathways." |
| **Nyx** (EP Fight) | Aggressive, confrontational | Raw, hostile | Combat/defense | "We fight or we die. I choose fight." |
| **Kiko** (EP Child) | Simple, present-tense | Sensory, emotional | Small/overwhelmed | "Dark. It's dark and no one comes. Can't breathe." |
| **Rhys** (ANP Carer) | Gentle, soothing | Relational, compassionate | Connection/harmony | "Let me help. You don't have to face this alone." |

4. **Validate distinctiveness**
   - Could this dialogue belong to a different alter? ‚Üí REVISE
   - Does it reflect their core motivation/fear? ‚Üí REQUIRED
   - Does it match their TSDP action system? ‚Üí CANONICAL

### Workflow 4: Applying Kernwelt Physics

**The world IS the psychological state. It reacts to internal coherence.**

1. **Identify Kernwelt from codex Section 3.2**

   | KW | Principle | Sensory Signature | Somatic Truth |
   |----|-----------|-------------------|---------------|
   | **KW1: Logos-Prime** | Rationalization/Control | Sterile, geometric, shadowless | Regulated breath = conformity lie |
   | **KW2: Mnemosyne** | Trauma/Memory | Fluid, decaying, fragmented | Visceral gut = pre-verbal trauma |
   | **KW3: Cerberus** | Defense/Hypervigilance | Oppressive, militaristic, monitored | Tensed muscles = armor ‚â† safety |
   | **KW4: Kairos** | Integration/Potential | Generative, organic, vibrant | Unclenched hands = psychological safety |

2. **Apply Risse manifestation rules (Section 3.1)**
   ```
   Four-step causal chain:
   1. External Trigger ‚Üí resonates with EP's trauma
   2. Internal Reaction ‚Üí EP's TSDP action system activates
   3. Systemic Conflict ‚Üí ANP-EP phobia clash
   4. External Manifestation ‚Üí Riss matches action system

   Mapping:
   - Fight system ‚Üí kinetic glitches (objects move)
   - Freeze system ‚Üí temporal glitches (time stutters)
   - Flight system ‚Üí spatial glitches (distances distort)
   ```

3. **Show world reacting to internal state**
   - Don't just place character in world
   - Make world transform based on coherence level
   - Use sensory details to signal psychological state

**Example Kernwelt application:**
```
Scene: Kael entering KW2 while suppressing trauma

WRONG (static world):
"Kael walked through the gray corridors of Mnemosyne."

RIGHT (reactive world):
"The corridor walls pulsed. Not physically‚Äîthe geometry
remained fixed‚Äîbut the *meaning* of the space shifted
with each step. Decay smell spiking when his breath
hitched. Temperature dropping when he forced the memory
down. The world speaking the truth his body knew:
suppression creates entropy."

Codex compliance:
‚úÖ KW2 sensory: Decay smell, temperature shifts
‚úÖ Somatic truth: Body (breath) revealing suppression
‚úÖ Risse logic: Internal conflict ‚Üí external manifestation
```

### Workflow 5: Resolving Document Conflicts

**Codex is supreme authority. Harmonize other documents to align.**

1. **Identify conflict source**
   ```
   - What does codex say?
   - What does other document say?
   - Which principle is violated?
   ```

2. **Check codex authority hierarchy**
   ```
   Priority order:
   1. PROJECT_CODEX.md ‚Üê HIGHEST AUTHORITY
   2. Implementation specs
   3. Character profiles
   4. Scene outlines
   ```

3. **Apply resolution rule**
   - If lower document conflicts with higher: Update lower document
   - If same level conflicts: Check which aligns with codex
   - Document the harmonization in commit message

4. **Update conflicting document**
   - Explicitly note codex as authority
   - Explain how update achieves alignment
   - Cross-reference relevant codex sections

**Example conflict resolution:**
```
Conflict:
- Codex 2.1: AEGIS's fate is "algorithmic melancholy"
- Scene outline: "AEGIS is destroyed in final battle"

Resolution:
1. Codex takes precedence (Section 2.1 is canonical)
2. Update scene outline to match
3. Commit message: "fix: Align climax with codex Section 2.1
   (AEGIS transformation, not destruction)"
```

## Common Mistakes

| Mistake | Why It Fails | Fix |
|---------|--------------|-----|
| Making AEGIS evil/malicious | Violates codex 2.1 (tragic, not villain) | Show logical necessity, not cruelty |
| All alters sound same | Violates codex 2.2.1 (distinct profiles) | Apply voice matrix from character docs |
| Static Kernwelt descriptions | Violates codex 3.0 (psycho-architecture) | Make world react to internal state |
| Kael using "we"-voice in Act I | Violates codex 4.1 (integration arc) | Match prose to act-appropriate level |
| Ignoring TSDP action systems | Violates codex 2.2 (canonical framework) | Check alter's system, apply to behavior |
| Risse appearing randomly | Violates codex 3.1 (4-step causal chain) | Show internal conflict ‚Üí external glitch |
| Prioritizing scene outline over codex | Violates authority hierarchy | Codex is supreme, update outline |
| Resolving paradox AEGIS can't resolve | Violates codex 2.1 (operational closure) | AEGIS cannot understand what it computes |

## Checklist: Codex Compliance

**For any Koh√§renz Protokoll content, verify:**

### Character Behavior
- [ ] AEGIS behavior is tragic/logical, not evil/emotional?
- [ ] Alter dialogue matches TSDP type and motivation from 2.2.1?
- [ ] Alter voices are syntactically distinct per voice matrix?
- [ ] Integration level matches act position per 4.1?
- [ ] Juna/V acts as catalyst, not savior?

### World Physics
- [ ] Kernwelt sensory signature applied per 3.2?
- [ ] Risse follow 4-step causal chain per 3.1?
- [ ] Somatic truth (body) reveals psychological state?
- [ ] World reacts to internal coherence level?

### Philosophical Principles
- [ ] K‚ÇÅ/K‚ÇÄ dynamics correctly represented per 1.2?
- [ ] AEGIS embodies Coherence Theory per 1.1?
- [ ] Kael embodies Correspondence Theory per 1.1?
- [ ] Dialetheic logic (holding paradox) shown for Kael?

### Plot Structure
- [ ] Scene fits three-act trauma-integration arc per 4.1?
- [ ] Prose style matches integration level?
- [ ] ANP-EP phobia dynamics present per 2.2?
- [ ] Moving toward functional multiplicity, not "cure"?

### Authority Hierarchy
- [ ] Codex takes precedence over other documents?
- [ ] Conflicts resolved by updating lower authority?
- [ ] Cross-references to codex sections included?

## Integration with Other Skills

**Combine with:**
- Writing skills: For prose quality within codex constraints
- Ship-Learn-Next: For planning implementation of codex principles
- Tapestry: For extracting patterns from codex to apply

**Codex provides:**
- **What** must be true (canonical laws)
- **Why** it must be true (philosophical foundation)
- **How** to validate (checklists and workflows)

**Other skills provide:**
- **How** to write it well (craft and style)
- **When** to apply specific techniques (context)
- **How** to plan implementation (workflow)

## Quick Decision Tree

```
Need to create Koh√§renz Protokoll content?
  ‚Üì
What type of question?
  ‚Üì
"Is this allowed/canonical?" ‚Üí Check codex Section X
  ‚Üì
"How should this character act?" ‚Üí Workflow 2 or 3
  ‚Üì
"What are the world rules?" ‚Üí Workflow 4
  ‚Üì
"How do I validate this scene?" ‚Üí Workflow 1
  ‚Üì
"Which document is right?" ‚Üí Workflow 5
  ‚Üì
Apply relevant workflow ‚Üí Validate with checklist ‚Üí Ship
```

## Red Flags

üõë **STOP if you notice:**

- Writing AEGIS with malicious emotions
- All alters sounding like Kael
- World descriptions that don't react to psychology
- "We"-voice appearing before Act II completion
- Ignoring TSDP framework for alter behavior
- Prioritizing convenience over codex compliance
- Rationalizing "this one exception is okay"
- Not cross-referencing codex sections

**All of these violate canonical principles. STOP. Consult codex. Revise.**

---

**Meta:**
- Version: 1.0.0
- Codex location: `/kohaerenz_protokoll/PROJECT_CODEX.md`
- Framework: TSDP + IFS + Protocol Ontology
- Last updated: 2025-11-05
