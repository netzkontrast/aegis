---
id: SRC-20260226063101
created: '2026-02-26T06:31:01.877457'
tags:
- '#docs'
- '#quest/philosophical-core'
- '#quest/writing-excellence'
- '#quest/narrative-architecture'
- '#quest/narrative-system'
- '#quest/system-aegis'
- '#quest/ncp-writing-assistant'
- '#quest/documentation-improvements'
- '#quest/skill-gap-analysis'
- '#quest/style-and-meta'
- '#quest/integrate-writing-excellence'
- '#quest/system-protagonist'
- '#quest/knowledge-graph-foundation'
- '#quest/system-maintenance'
- '#quest/world-physics'
links: []
note_type: SRC
source_uri: docs/knowledge-extraction/02-anthropic-best-practices-core-patterns.md
status: processed
---

# Anthropic Best Practices: Core Knowledge Patterns

## Source
Official Claude skill authoring guidance

## Core Philosophy
**Concise is key** - Context window is a public good, optimize for discovery and efficiency

## Key Patterns

### Core Principles

**1. Concise is key**
- Default assumption: Claude is already very smart
- Only add context Claude doesn't have
- Challenge each piece: "Does Claude really need this?"

Example:
```markdown
✅ GOOD (50 tokens):
## Extract PDF text
Use pdfplumber for text extraction:
[code example]

❌ BAD (150 tokens):
## Extract PDF text
PDF (Portable Document Format) files are a common file format...
[verbose explanation before code]
```

**2. Set appropriate degrees of freedom**

| Freedom Level | When to Use | Pattern |
|---------------|-------------|---------|
| High (text instructions) | Multiple approaches valid, context-dependent | Heuristics and guidelines |
| Medium (pseudocode/scripts with params) | Preferred pattern exists, variation acceptable | Template with customization |
| Low (specific scripts, few params) | Operations fragile, consistency critical | Exact script, no modifications |

**Analogy:** Robot exploring a path
- Narrow bridge with cliffs = low freedom (specific instructions)
- Open field = high freedom (general direction)

**3. Test with all models you plan to use**
- Haiku: Needs more guidance
- Sonnet: Balanced
- Opus: Avoid over-explaining

### Skill Structure

**YAML Frontmatter:**
```yaml
name: Skill Name  # 64 chars max
description: What it does AND when to use it  # 1024 chars max
```

**Naming Conventions:**
- Prefer gerund form (verb + -ing): "Processing PDFs", "Analyzing spreadsheets"
- Avoid vague names: "Helper", "Utils", "Tools"

**Writing Effective Descriptions:**
- ✅ Third person: "Processes Excel files and generates reports"
- ❌ First person: "I can help you process Excel files"
- ❌ Second person: "You can use this to process Excel files"

Be specific and include key terms:
```yaml
description: Extract text and tables from PDF files, fill forms, merge documents. Use when working with PDF files or when the user mentions PDFs, forms, or document extraction.
```

### Progressive Disclosure Patterns

**Keep SKILL.md body under 500 lines**

**Pattern 1: High-level guide with references**
```markdown
## Quick start
[Inline basic example]

## Advanced features
**Form filling**: See [FORMS.md](FORMS.md)
**API reference**: See [REFERENCE.md](REFERENCE.md)
```

**Pattern 2: Domain-specific organization**
```
bigquery-skill/
├── SKILL.md (overview)
└── reference/
    ├── finance.md
    ├── sales.md
    ├── product.md
```

**Pattern 3: Conditional details**
```markdown
## Creating documents
[Basic content inline]

**For tracked changes**: See [REDLINING.md](REDLINING.md)
**For OOXML details**: See [OOXML.md](OOXML.md)
```

**Keep references one level deep** - Claude may only preview nested references

**Structure longer files with table of contents** (>100 lines)

### Workflows and Feedback Loops

**Use workflows for complex tasks:**
Provide copyable checklist:

```markdown
## Research synthesis workflow

Copy this checklist and track your progress:

[checkbox list]

**Step 1: Read all source documents**
[detailed instructions]

**Step 2: Identify key themes**
[detailed instructions]
```

**Implement feedback loops:**
Common pattern: Run validator → fix errors → repeat

```markdown
1. Make edits
2. **Validate immediately**: `python validate.py`
3. If validation fails:
   - Review error
   - Fix issues
   - Run validation again
4. **Only proceed when validation passes**
```

### Content Guidelines

**Avoid time-sensitive information:**
```markdown
❌ BAD: "If before August 2025, use old API"

✅ GOOD:
## Current method
[Current approach]

## Old patterns
<details>
<summary>Legacy v1 API (deprecated 2025-08)</summary>
[Historical context]
</details>
```

**Use consistent terminology:**
- Choose one term, use throughout
- Don't mix "API endpoint", "URL", "API route", "path"

### Common Patterns

**Template Pattern:**
```markdown
❌ For strict requirements:
ALWAYS use this exact template structure:
[template]

✅ For flexible guidance:
Here is a sensible default format, but use your best judgment:
[template]
Adjust sections as needed.
```

**Examples Pattern:**
Provide input/output pairs:
```markdown
**Example 1:**
Input: [scenario]
Output: [result]

**Example 2:**
Input: [scenario]
Output: [result]
```

**Conditional Workflow Pattern:**
```markdown
1. Determine the modification type:
   **Creating new content?** → Follow "Creation workflow"
   **Editing existing content?** → Follow "Editing workflow"
```

### Evaluation and Iteration

**Build evaluations FIRST:**
1. Identify gaps (run Claude without skill, document failures)
2. Create evaluations (3 scenarios testing gaps)
3. Establish baseline
4. Write minimal instructions
5. Iterate

**Develop skills iteratively with Claude:**
- Claude A helps create/refine skill
- Claude B tests skill in real tasks
- Observe Claude B's behavior
- Return to Claude A for improvements

**Observe how Claude navigates skills:**
- Unexpected exploration paths
- Missed connections
- Overreliance on certain sections
- Ignored content

### Anti-Patterns to Avoid

❌ Windows-style paths (`scripts\helper.py`)
❌ Offering too many options (confusing)
❌ Assuming tools are installed
❌ Deeply nested references
❌ Vague descriptions

### Advanced: Skills with Executable Code

**Solve, don't punt:**
```python
✅ GOOD: Handle errors explicitly
def process_file(path):
    try:
        return open(path).read()
    except FileNotFoundError:
        print(f"Creating {path} with defaults")
        return ''

❌ BAD: Punt to Claude
def process_file(path):
    return open(path).read()  # Let Claude figure it out
```

**Provide utility scripts:**
- More reliable than generated code
- Save tokens
- Save time
- Ensure consistency

**Create verifiable intermediate outputs:**
Pattern: plan → validate plan → execute → verify

**Runtime environment:**
- Files read on-demand (no context penalty until accessed)
- Scripts executed efficiently (only output consumes tokens)
- Claude navigates filesystem
- Progressive disclosure enabled by architecture

**MCP tool references:**
Use fully qualified names: `ServerName:tool_name`

### Checklist for Effective Skills

**Core quality:**
- [ ] Description specific with key terms
- [ ] Description includes what + when
- [ ] SKILL.md body under 500 lines
- [ ] No time-sensitive info
- [ ] Consistent terminology
- [ ] Concrete examples
- [ ] References one level deep
- [ ] Progressive disclosure used appropriately

**Code and scripts:**
- [ ] Scripts solve problems vs punt
- [ ] Explicit error handling
- [ ] No "voodoo constants"
- [ ] Required packages listed
- [ ] No Windows paths
- [ ] Validation steps for critical operations

**Testing:**
- [ ] At least 3 evaluations
- [ ] Tested with target models
- [ ] Tested with real scenarios
- [ ] Team feedback incorporated

## Unique Strengths
- Extremely practical and pragmatic
- Clear token efficiency guidance
- Progressive disclosure architecture
- Real-world iteration patterns
- Model-specific testing guidance
- Filesystem-based mental model

## Potential Weaknesses
- Less rigorous testing methodology
- Evaluations not mandatory ("build first")
- No explicit rationalization prevention
- Softer on discipline enforcement
- Could lead to under-testing
